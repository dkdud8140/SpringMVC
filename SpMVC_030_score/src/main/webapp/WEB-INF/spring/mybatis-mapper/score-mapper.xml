<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.callor.score.dao.ext.ScoreDao">

	<select id="selectAll" resultType="ScoreVO">
		SELECT * FROM tbl_score
	</select>

	<select id="findById" resultType="ScoreVO">
		SELECT * FROM tbl_score
		WHERE sc_seq = #{sc_seq}
	</select>

	<select id="selectViewAll" resultType="ScoreDTO">
		SELECT sc_seq, sc_stnum, T.st_name sc_stname, sc_sbcode, B.sb_name sc_sbname, sc_score
		FROM tbl_score C
			LEFT JOIN tbl_student T
				ON C.sc_stnum = T.st_num
			LEFT JOIN tbl_subject B
				ON C.sc_sbcode = B.sb_code
		ORDER BY sc_stnum, sc_sbcode;
	</select>


	<insert id="insert" parameterType="ScoreVO">
		INSERT INTO tbl_score
			( sc_stnum, sc_sbcode, sc_score )
		VALUES
			( #{sc_stnum}, #{sc_sbcode}, #{sc_score} )
	</insert>

	<update id="update" parameterType="ScoreVO">
		UPDATE tbl_score SET
			sc_stname = #{sc_stname},
			sc_sbcode= #{sc_sbcode},
			sc_score = #{sc_score},
		WHERE sc_seq = #{sc_seq}
	</update>

	<delete id="delete">
		DELETE FROM tbl_score
		WHERE sc_seq = #{sc_seq}
	</delete>

</mapper>